<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Swagger-Codegen使用 - 无名鼠辈</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Lyf" />
  <meta name="description" content="Swagger-Codegen使用 1. 是什么 swagger 是什么应该不需要介绍。swagger-Codegen是同一团队维护的开源项目，官方介绍如是： 1 Swagger" />







<meta name="generator" content="Hugo 0.55.6" />


<link rel="canonical" href="https://llc687.top/post/java/swagger-codegen%E4%BD%BF%E7%94%A8/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css" integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Swagger-Codegen使用" />
<meta property="og:description" content="Swagger-Codegen使用 1. 是什么 swagger 是什么应该不需要介绍。swagger-Codegen是同一团队维护的开源项目，官方介绍如是： 1 Swagger" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://llc687.top/post/java/swagger-codegen%E4%BD%BF%E7%94%A8/" />
<meta property="article:published_time" content="2019-12-08T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-12-08T00:00:00&#43;00:00"/>

<meta itemprop="name" content="Swagger-Codegen使用">
<meta itemprop="description" content="Swagger-Codegen使用 1. 是什么 swagger 是什么应该不需要介绍。swagger-Codegen是同一团队维护的开源项目，官方介绍如是： 1 Swagger">


<meta itemprop="datePublished" content="2019-12-08T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-12-08T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="2144">



<meta itemprop="keywords" content="Swagger,SpringFox," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Swagger-Codegen使用"/>
<meta name="twitter:description" content="Swagger-Codegen使用 1. 是什么 swagger 是什么应该不需要介绍。swagger-Codegen是同一团队维护的开源项目，官方介绍如是： 1 Swagger"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->




</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">无名鼠辈</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/">主页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/about/">关于</a>
          
        
      </li>
    

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title">Search</div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = '014783502852757998779:nk1fvw21g2i';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      无名鼠辈
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/">主页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://llc687.top/about/">关于</a>
          

        

      </li>
    

    
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Swagger-Codegen使用</h1>
      
      <div class="post-meta">
        <time datetime="2019-12-08" class="post-time">
          2019-12-08
        </time>
        <div class="post-category">
            <a href="https://llc687.top/categories/swagger/"> Swagger </a>
            
          </div>
        <span class="more-meta"> 约 2144 字 </span>
          <span class="more-meta"> 预计阅读 5 分钟 </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#swagger-codegen使用">Swagger-Codegen使用</a></li>
<li><a href="#1-是什么">1. 是什么</a></li>
<li><a href="#2-做什么">2. 做什么</a></li>
<li><a href="#3-怎么用">3. 怎么用</a>
<ul>
<li>
<ul>
<li><a href="#选择性生成">选择性生成</a></li>
</ul></li>
</ul></li>
<li><a href="#4-自定义">4. 自定义</a>
<ul>
<li><a href="#4-1-jmustache-模板自定义">4.1 jmustache 模板自定义</a></li>
<li><a href="#4-2-自定义生成类">4.2 自定义生成类</a></li>
<li><a href="#4-3-添加自定义变量">4.3 添加自定义变量</a></li>
<li><a href="#4-4-编译">4.4 编译</a></li>
</ul></li>
<li><a href="#5-怎么接入">5. 怎么接入</a>
<ul>
<li><a href="#6-源码解析">6. 源码解析</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h3 id="swagger-codegen使用">Swagger-Codegen使用</h3>

<h3 id="1-是什么">1. 是什么</h3>

<p>swagger 是什么应该不需要介绍。<a href="https://github.com/swagger-api/swagger-codegen">swagger-Codegen</a>是同一团队维护的开源项目，官方介绍如是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">Swagger</span> <span class="err">Codegen</span> <span class="err">can</span> <span class="err">simplify</span> <span class="err">your</span> <span class="err">buildx</span> <span class="err">process</span> <span class="err">by</span> <span class="err">generating</span> <span class="err">server</span> <span class="err">stubs</span> <span class="err">and</span> <span class="err">client</span> <span class="err">SDKs</span> <span class="err">for</span> <span class="err">any</span> <span class="err">API,</span> <span class="err">defined</span> <span class="err">with</span> <span class="err">the</span> <span class="err">OpenAPI</span> <span class="err">(formerly</span> <span class="err">known</span> <span class="err">as</span> <span class="err">Swagger)</span> <span class="err">specification,</span> <span class="err">so</span> <span class="err">your</span> <span class="err">team</span> <span class="err">can</span> <span class="err">focus</span> <span class="err">better</span> <span class="err">on</span> <span class="err">your</span> <span class="err">API’s</span> <span class="err">implementation</span> <span class="err">and</span> <span class="err">adoption.</span></code></pre></td></tr></table>
</div>
</div>
<p>大致就是一个代码生成器，可以基于根据Swagger定义的RESTful API可以自动生成服务端和客户端代码。其实也就是基于Json。</p>

<h3 id="2-做什么">2. 做什么</h3>

<p>那这个“代码生成器”可以做什么呢，其实是有点像在反向生成“代码”。不过真是用途是在多端开发时，当建立了Rest接口，就可以借此生成对应的多语言、多风格的客户端代码了。</p>

<ul>
<li>我的用处就是在基于JSON方向生成Java服务器端代码。</li>
</ul>

<h3 id="3-怎么用">3. 怎么用</h3>

<p>单纯使用的话，最简单的方式就是下载<a href="https://repo1.maven.org/maven2/io/swagger/swagger-codegen-cli/">jar</a>,之后就可以通过Java命令<code>java -jar</code> 来运行。</p>

<ul>
<li>对于 MacOS ,可通过 HomeBrew 安装 <code>brew install swagger-codegen</code>,之后直接使用如下命令：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">swagger-codegen generate -i http://petstore.swagger.io/v2/swagger.json -l ruby -o /tmp/test/</code></pre></td></tr></table>
</div>
</div>
<p>如果是下载的 jar 首先可以使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">java -jar swagger-codegen-cli-x.x.x.jar <span class="nb">help</span> generate</code></pre></td></tr></table>
</div>
</div>
<p>来查询帮助信息。也可以查看Swagger Codegen支持的具体某个语言的使用帮助，拿java举例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span></pre></td>
<td class="lntd">
<pre class="chroma">java -jar swagger-codegen-cli-2.2.1.jar config-help -l java</pre></td></tr></table>
</div>
</div>
<p>下面是实例命令，列举出常用参数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">java</span> <span class="o">-</span><span class="n">jar</span> <span class="n">swagger</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="n">xxx</span><span class="o">.</span><span class="na">jar</span> <span class="n">generate</span> <span class="o">-</span><span class="n">i</span> <span class="o">{</span><span class="n">yourSwaggerJsonPath</span><span class="o">}</span> <span class="o">-</span><span class="n">l</span> <span class="n">java</span> <span class="o">-</span><span class="n">o</span> <span class="o">{</span><span class="n">yourOutputPath</span><span class="o">}</span> <span class="o">-</span><span class="n">c</span> <span class="o">{</span><span class="n">configPath</span><span class="o">}</span> <span class="o">-</span><span class="n">t</span> <span class="o">{</span><span class="n">templatePath</span><span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<ul>
<li><p><code>-i</code> : 指定swagger描述文件的路径, url地址或路径</p></li>

<li><p><code>-l</code>: 指定生成客户端代码的语言,该参数为必须</p></li>

<li><p><code>-o</code>: 指定生成文件的位置(默认当前目录)</p></li>

<li><p><code>-t</code>: 指定模版文件所在目录 （可选，代码生成基于<a href="https://github.com/samskivert/jmustache">jmustache</a>,可以指定自定义模板文件）</p></li>

<li><p><code>-c</code>:  json格式的配置文件的路径;文件为json格式,支持的配置项因语言的不同而不同</p></li>
</ul>

<p>配置文件根式如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;library&#34;</span><span class="p">:</span> <span class="s2">&#34;spring-boot&#34;</span><span class="p">,</span> <span class="err">//</span> <span class="err">模板，对于spring</span> <span class="err">默认spring-boot</span>  
  <span class="nt">&#34;developerName&#34;</span><span class="p">:</span> <span class="s2">&#34;xx&#34;</span><span class="p">,</span>
  <span class="nt">&#34;developerEmail&#34;</span><span class="p">:</span> <span class="s2">&#34;xx&#34;</span><span class="p">,</span>
  <span class="nt">&#34;developerOrganization&#34;</span><span class="p">:</span> <span class="s2">&#34;albani.com&#34;</span><span class="p">,</span>
  <span class="nt">&#34;invokerPackage&#34;</span><span class="p">:</span> <span class="s2">&#34;com.xx.service&#34;</span><span class="p">,</span>
  <span class="nt">&#34;modelPackage&#34;</span><span class="p">:</span> <span class="s2">&#34;com.xx.service.data.entity&#34;</span><span class="p">,</span> <span class="err">//</span> <span class="err">模型类路径</span>
  <span class="nt">&#34;apiPackage&#34;</span><span class="p">:</span> <span class="s2">&#34;com.xx.service.data.api&#34;</span><span class="p">,</span>    <span class="err">//</span> <span class="err">接口类路径</span>
  <span class="nt">&#34;artifactId&#34;</span><span class="p">:</span> <span class="s2">&#34;swagger-petstore-retrofit2&#34;</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="选择性生成">选择性生成</h5>

<p>可以使用 <code>-D</code>来选择性生成文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">#</span> <span class="err">generate</span> <span class="err">only</span> <span class="err">models</span>
<span class="err">java</span> <span class="err">...</span> <span class="err">-Dmodels</span> <span class="p">{</span><span class="err">opts</span><span class="p">}</span>
<span class="err">#</span> <span class="err">generate</span> <span class="err">only</span> <span class="err">apis</span>
<span class="err">java</span> <span class="err">...</span> <span class="err">-Dapis</span> <span class="p">{</span><span class="err">opts</span><span class="p">}</span>
<span class="err">#</span> <span class="err">generate</span> <span class="err">only</span> <span class="err">supporting</span> <span class="err">files</span>
<span class="err">java</span> <span class="err">...</span> <span class="err">-DsupportingFiles</span>
<span class="err">#</span> <span class="err">generate</span> <span class="err">models</span> <span class="err">and</span> <span class="err">supporting</span> <span class="err">files</span>
<span class="err">java</span> <span class="err">...</span> <span class="err">-Dmodels</span> <span class="err">-DsupportingFiles</span></code></pre></td></tr></table>
</div>
</div>
<p>对于具体使用和其余配置，在 github 页面有详细的介绍及具体参数配置，可前往阅读：<a href="https://github.com/swagger-api/swagger-codegen">swagger-Codegen</a>。</p>

<h3 id="4-自定义">4. 自定义</h3>

<p>以上下载 jar, 运行命令后就可以生成代码了，但一般而言开发风格和规范总有些不同，那么其也提供了自定义功能。首先不要忘了去<a href="https://github.com/swagger-api/swagger-codegen">swagger-Codegen</a> clone.</p>

<h4 id="4-1-jmustache-模板自定义">4.1 jmustache 模板自定义</h4>

<p><code>swagger-Codegen</code> 基于<code>jmustache</code> 模板映射生成代码, 位于： <code>modules/swagger-codegen/src/main/resources/{your-language}</code>.  简单来说就是映射：通过匹配传入的 Map 的key，进行赋值和判断等。如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Controller</span>
<span class="o">{{</span><span class="err">#</span><span class="n">operations</span><span class="o">}}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="err">{{</span><span class="nc">classname</span><span class="o">}}</span><span class="n">Controller</span> <span class="kd">implements</span> <span class="o">{{</span><span class="n">classname</span><span class="o">}}</span> <span class="o">{</span>
 <span class="o">...</span></code></pre></td></tr></table>
</div>
</div>
<p>可以自己在同级目录新建文件夹，新建一套模板文件，通过 <code>-t</code>指定。具体语法可前往 <a href="https://github.com/samskivert/jmustache">jmustache</a> 查阅，这里不再赘述。不过这里实际自定义的主要是代码的风格，如果想增加如<code>{classname1}</code>元素，修改<code>{classname}</code>元素的默认逻辑等就要编写自定义生成类了。</p>

<h4 id="4-2-自定义生成类">4.2 自定义生成类</h4>

<p>在<code>modules/swagger-codegen/src/main/java/io/swagger/codegen/languages/</code>，每个语言都有一套自己的解析类。</p>

<p>自定义有多种方式，以 spring 为例, 其对应的解析类为：<code>SpringCodegen</code>.</p>

<ul>
<li>你可以直接修改<code>SpringCodegen</code>或其父类，但这样是不规范的，不推荐</li>
<li>可以继承该类，或其父类来重写。推荐这种方式。</li>
</ul>

<p>如你新建了 <code>YourJavaCodegen</code>类继承于<code>AbstractJavaCodegen</code>,那么在生成时可使用下方命令来指定解析类。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">java</span> <span class="o">...</span> <span class="o">-</span><span class="n">l</span> <span class="n">com</span><span class="o">.</span><span class="na">xxx</span><span class="o">.</span><span class="na">swagger</span><span class="o">.</span><span class="na">codegen</span><span class="o">.</span><span class="na">YourJavaCodegen</span> <span class="o">...</span></code></pre></td></tr></table>
</div>
</div>
<p>为了方便，你可以在 <code>META-INF/services/io.swagger.codegen.CodegenConfig</code>中加入你的自定义类，且在自定义类中重写 <code>getName</code>方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&#34;YourSpring&#34;</span><span class="o">;</span>
<span class="o">}</span></code></pre></td></tr></table>
</div>
</div>
<p>这样就可以像官方模板一样直接使用名称了</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell"> java ... -l YourSpring ...</code></pre></td></tr></table>
</div>
</div>
<p>基本通过自定义解析类，大部分自定义需求都可以实现</p>

<h4 id="4-3-添加自定义变量">4.3 添加自定义变量</h4>

<p><code>io.swagger.codegen.CodegenParameter</code>包含 jmustache解析时的<code>key</code>，可以修改添加。</p>

<p><code>io.swagger.codegen.CodegenConstants</code>包含 <code>config.json</code>的配置，可以增加配置项。</p>

<h4 id="4-4-编译">4.4 编译</h4>

<p>swagger-codegen 是一个 Maven 管理的项目，以上修改后可以通过 package/ install 命令重新生成 jar 使用。</p>

<p>当然也可以自己建立一个项目，添加 swagger-codegen 的依赖，再做相关自定义开发，最后打包。</p>

<h3 id="5-怎么接入">5. 怎么接入</h3>

<p>以上是基于 jar 的于终端中运行，如果需要接入项目，则需要引入依赖。</p>

<p>对于 Java 服务器端开发来说，一般项目项目管理基于 Maven 或 Gradle。以下对两者分别说明。</p>

<ul>
<li>Maven: pom文件中添加如下:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json">  <span class="err">&lt;plugin&gt;</span>
    <span class="err">&lt;groupId&gt;io.swagger&lt;/groupId&gt;</span>
    <span class="err">&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;</span>
    <span class="err">&lt;version&gt;</span><span class="mf">2.3</span><span class="err">.</span><span class="mi">1</span><span class="err">&lt;/version&gt;</span>
    <span class="err">&lt;executions&gt;</span>
        <span class="err">&lt;execution&gt;</span>
            <span class="err">&lt;goals&gt;</span>
                <span class="err">&lt;goal&gt;generate&lt;/goal&gt;</span>
            <span class="err">&lt;/goals&gt;</span>
            <span class="err">&lt;configuration&gt;</span>
                <span class="err">&lt;inputSpec&gt;$</span><span class="p">{</span><span class="err">project.basedir</span><span class="p">}</span><span class="err">/src/main/resources/api.yaml&lt;/inputSpec&gt;</span>
                <span class="err">&lt;language&gt;java&lt;/language&gt;</span>
                <span class="err">&lt;configOptions&gt;</span>
                   <span class="err">&lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;</span>
                <span class="err">&lt;/configOptions&gt;</span>
            <span class="err">&lt;/configuration&gt;</span>
        <span class="err">&lt;/execution&gt;</span>
    <span class="err">&lt;/executions&gt;</span>
<span class="err">&lt;/plugin&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>由于我基于 Gradle 管理，未基于Maven实践详细配置可参考<a href="https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen-maven-plugin/README.md">swagger-codegen-maven-plugin</a></p>

<ul>
<li>Gradle:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">plugins</span> <span class="p">{</span>
  <span class="err">id</span> <span class="err">&#39;org.hidetake.swagger.generator&#39;</span> <span class="err">version</span> <span class="err">&#39;2.18.1&#39;</span>
<span class="p">}</span>

<span class="err">repositories</span> <span class="p">{</span>
  <span class="err">jcenter()</span>
<span class="p">}</span>

<span class="err">dependencies</span> <span class="p">{</span>
  <span class="err">swaggerCodegen</span> <span class="err">&#39;io.swagger:swagger-codegen-cli:2.4.2&#39;</span>             <span class="err">//</span> <span class="err">Swagger</span> <span class="err">Codegen</span> <span class="err">V2</span>
  <span class="err">...//</span> <span class="err">or</span> <span class="err">Swagger</span> <span class="err">Codegen</span> <span class="err">V3</span>  <span class="err">...//</span> <span class="err">or</span> <span class="err">OpenAPI</span> <span class="err">Generator</span>
<span class="p">}</span>

<span class="err">swaggerSources</span> <span class="p">{</span>
  <span class="err">petstore</span> <span class="err">{</span>
    <span class="err">inputFile</span> <span class="err">=</span> <span class="err">file(&#39;petstore.yaml&#39;)</span>
    <span class="err">code</span> <span class="err">{</span>
      <span class="err">language</span> <span class="err">=</span> <span class="err">&#39;spring&#39;</span>
      <span class="err">configFile</span> <span class="err">=</span> <span class="err">file(&#39;config.json&#39;)</span>
      <span class="err">components</span> <span class="err">=</span> <span class="err">[&#39;models&#39;,</span> <span class="err">&#39;apis&#39;]</span>
      <span class="err">templateDir</span> <span class="err">=</span> <span class="err">file(&#39;path&#39;)</span>
      <span class="err">outputDir</span> <span class="err">=</span> <span class="err">file(</span><span class="nt">&#34;${projectDir}/xxx&#34;</span><span class="err">)</span>
    <span class="p">}</span>
  <span class="err">}</span>
<span class="err">}</span></code></pre></td></tr></table>
</div>
</div>
<p>对于版本较老的可以使用以下方式引入 plugin：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">dependencies</span> <span class="p">{</span>
    <span class="err">classpath</span> <span class="nt">&#34;gradle.plugin.org.hidetake:gradle-swagger-generator-plugin:2.18.1&#34;</span>
<span class="p">}</span>
<span class="err">apply</span> <span class="err">plugin:</span> <span class="s2">&#34;org.hidetake.swagger.generator&#34;</span></code></pre></td></tr></table>
</div>
</div>
<p>对于 dependencies 如果你进行了自定义处理，可以引用私库,或本地测试如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-json" data-lang="json"><span class="err">swaggerCodegen</span> <span class="err">files(&#39;xxx/xxxSwaggerCode-cli.jar&#39;)</span></code></pre></td></tr></table>
</div>
</div>
<p>对于 <code>swaggerSource</code>,就是进行相关配置。可以指定 config.json 进行详细配置。</p>

<p>之后运行 <code>./gradlew generateSwaggerCode</code> 即可。</p>

<p>详细介绍位于：<a href="https://github.com/int128/gradle-swagger-generator-plugin">gradle-swagger-generator-plugin</a>.</p>

<h4 id="6-源码解析">6. 源码解析</h4>

<p>参考另一篇文章：</p>

    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://llc687.top/tags/swagger/">Swagger</a>
          <a href="https://llc687.top/tags/springfox/">SpringFox</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/%E6%9E%B6%E6%9E%84/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">分布式缓存的选择</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/java/springfox%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E8%87%AA%E5%AE%9A%E4%B9%89modelenum/">
            <span class="next-text nav-default">“SpringFox源码解析&#34;</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "liyifan687/comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:lyfa687@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/liyifan687" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://llc687.top/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2019 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        lyf687
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
